<!DOCTYPE html>
<html>

<head>
    <title>ECharts 关系图</title>
    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/echarts.js"></script>

</head>

<body>
    <div id="main" style="width:1000px;height:800px;background-color: rgb(14, 14, 97);z-index:1;position: absolute;">
    </div>
    <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('main'), 'dark');
        var categories = [{ 'name': 'a' }, { "name": "b" }];

        option = {
            darkMode: true,
            backgroundColor: "rgba(14, 14, 97)",
            animation: true,
            animationEasingUpdate: "quinticInOut",
            // 图的标题
            title: {
                text: 'ECharts 关系图'
            },
            // 提示框的配置
            tooltip: {
                formatter: function (x) {
                    return x.data.des;
                }
            },
            // 工具箱
            toolbox: {
                // 显示工具箱
                show: true,
                feature: {

                    // 还原
                    restore: {
                        show: true
                    },
                    // 保存为图片
                    saveAsImage: {
                        show: true
                    },
                }
            },
            legend: [{
                // selectedMode: 'single',
                data: categories.map(function (a) {
                    return a.name;
                })
            }],
            series: [
                {
                    type: 'graph', // 类型:关系图
                    layout: 'force', //图的布局，类型为力导图
                    // symbolSize: 40, // 调整节点的大小
                    roam: true, // 是否开启鼠标缩放和平移漫游。默认不开启。如果只想要开启缩放或者平移,可以设置成 'scale' 或者 'move'。设置成 true 为都开启
                    edgeSymbol: ['circle', 'arrow'],//ECharts 提供的标记类型包括'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none'可以通过 'image://url' 设置为图片，其中 URL 为图片的链接，或者 dataURI。
                    edgeSymbolSize: [2, 10],//节点标记的大小，可以设置成诸如 10 这样单一的数字，也可以用数组分开表示宽和高，例如 [20, 10] 表示标记宽为20，高为10。
                    emphasis: {
                        focus: 'adjacency', //聚焦关系图中的邻接点和边的图形
                    },

                    // nodes: nodes,
                    // edges: edges,
                    modularity: {
                        resolution: 2,
                        sort: true
                    },
                    lineStyle: {
                        color: 'rgba(255,255,255,1)',
                        opacity: 0.05
                    },
                    itemStyle: {
                        opacity: 1
                    },
                    focusNodeAdjacency: false,
                    focusNodeAdjacencyOn: 'click',
                    label: {
                        color: '#fff'
                    },
                    emphasis: {
                        label: {
                            show: false
                        },
                        lineStyle: {
                            opacity: 0.5,
                            width: 4
                        }
                    },
                    label: {
                        show: true,
                        position: "inside",
                        // color: "rgba(13, 33, 248, 1)",
                        normal: {
                            show: true,
                            textStyle: {}
                        }
                    },


                    // 数据
                    data: [{
                        name: 'node01',     //节点名字,圆圈里显示
                        des: 'nodedes01',  //节点描述,鼠标悬浮后显示
                        symbolSize: 50, //节点的大小
                        category: 0,    // 节点分类
                        // itemStyle: {
                        //     color: 'red',
                        //     opacity: 0.2  //透明度
                        // }

                    }, {
                        name: 'node02',
                        des: {
                            "name": "abc",
                            "asd": "asd"
                        },
                        symbolSize: 40,
                        category: 1,
                        value: 100
                    }, {
                        name: 'node03',
                        des: 'nodedes3',
                        symbolSize: 40,
                        category: 1,
                        value: 200
                    }, {
                        name: 'node04',
                        des: 'nodedes04',
                        symbolSize: 40,
                        category: 1,
                        value: 200
                    }, {
                        name: 'node05',
                        des: 'nodedes05',
                        symbolSize: 40,
                        category: 1,
                        value: 100
                    }],
                    links: [{
                        source: 'node01',    //来源
                        target: 'node02',    //目标
                        name: 'link01',     //关系名字
                        des: 'link01des'    //关系描述 鼠标悬浮时显示
                    }, {
                        source: 'node01',
                        target: 'node03',
                        name: 'link02',
                        des: 'link02des'
                    }, {
                        source: 'node01',
                        target: 'node04',
                        name: 'link03',
                        des: 'link03des'
                    }, {
                        source: 'node01',
                        target: 'node05',
                        name: 'link04',
                        des: 'link05des'
                    }],
                    categories: categories,  //归类
                    // legendHoverLink: true,   //是否启用图例 hover 时的联动高亮。
                    // zoom: 1,   //缩放比例


                }]
        };
        myChart.setOption(option);
    </script>
</body>

</html>